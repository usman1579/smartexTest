efae2b3540707f6d11d847620ce7b9e6
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var Info = (0, _createClass2.default)(function Info() {
  (0, _classCallCheck2.default)(this, Info);
  this.any_blank_count = 0;
  this.any_blank_ms = 0;
  this.any_blank_speed_sum = 0;
  this.mostly_blank_count = 0;
  this.mostly_blank_ms = 0;
  this.pixels_blank = 0;
  this.pixels_sampled = 0;
  this.pixels_scrolled = 0;
  this.total_time_spent = 0;
  this.sample_count = 0;
});
var DEBUG = false;
var _listeners = [];
var _minSampleCount = 10;
var _sampleRate = DEBUG ? 1 : null;
var FillRateHelper = function () {
  function FillRateHelper(getFrameMetrics) {
    (0, _classCallCheck2.default)(this, FillRateHelper);
    this._anyBlankStartTime = null;
    this._enabled = false;
    this._info = new Info();
    this._mostlyBlankStartTime = null;
    this._samplesStartTime = null;
    this._getFrameMetrics = getFrameMetrics;
    this._enabled = (_sampleRate || 0) > Math.random();
    this._resetData();
  }
  (0, _createClass2.default)(FillRateHelper, [{
    key: "activate",
    value: function activate() {
      if (this._enabled && this._samplesStartTime == null) {
        DEBUG && console.debug('FillRateHelper: activate');
        this._samplesStartTime = global.performance.now();
      }
    }
  }, {
    key: "deactivateAndFlush",
    value: function deactivateAndFlush() {
      if (!this._enabled) {
        return;
      }
      var start = this._samplesStartTime;
      if (start == null) {
        DEBUG && console.debug('FillRateHelper: bail on deactivate with no start time');
        return;
      }
      if (this._info.sample_count < _minSampleCount) {
        this._resetData();
        return;
      }
      var total_time_spent = global.performance.now() - start;
      var info = Object.assign({}, this._info, {
        total_time_spent: total_time_spent
      });
      if (DEBUG) {
        var derived = {
          avg_blankness: this._info.pixels_blank / this._info.pixels_sampled,
          avg_speed: this._info.pixels_scrolled / (total_time_spent / 1000),
          avg_speed_when_any_blank: this._info.any_blank_speed_sum / this._info.any_blank_count,
          any_blank_per_min: this._info.any_blank_count / (total_time_spent / 1000 / 60),
          any_blank_time_frac: this._info.any_blank_ms / total_time_spent,
          mostly_blank_per_min: this._info.mostly_blank_count / (total_time_spent / 1000 / 60),
          mostly_blank_time_frac: this._info.mostly_blank_ms / total_time_spent
        };
        for (var key in derived) {
          derived[key] = Math.round(1000 * derived[key]) / 1000;
        }
        console.debug('FillRateHelper deactivateAndFlush: ', {
          derived: derived,
          info: info
        });
      }
      _listeners.forEach(function (listener) {
        return listener(info);
      });
      this._resetData();
    }
  }, {
    key: "computeBlankness",
    value: function computeBlankness(props, state, scrollMetrics) {
      if (!this._enabled || props.getItemCount(props.data) === 0 || this._samplesStartTime == null) {
        return 0;
      }
      var dOffset = scrollMetrics.dOffset,
        offset = scrollMetrics.offset,
        velocity = scrollMetrics.velocity,
        visibleLength = scrollMetrics.visibleLength;
      this._info.sample_count++;
      this._info.pixels_sampled += Math.round(visibleLength);
      this._info.pixels_scrolled += Math.round(Math.abs(dOffset));
      var scrollSpeed = Math.round(Math.abs(velocity) * 1000);
      var now = global.performance.now();
      if (this._anyBlankStartTime != null) {
        this._info.any_blank_ms += now - this._anyBlankStartTime;
      }
      this._anyBlankStartTime = null;
      if (this._mostlyBlankStartTime != null) {
        this._info.mostly_blank_ms += now - this._mostlyBlankStartTime;
      }
      this._mostlyBlankStartTime = null;
      var blankTop = 0;
      var first = state.first;
      var firstFrame = this._getFrameMetrics(first);
      while (first <= state.last && (!firstFrame || !firstFrame.inLayout)) {
        firstFrame = this._getFrameMetrics(first);
        first++;
      }
      if (firstFrame && first > 0) {
        blankTop = Math.min(visibleLength, Math.max(0, firstFrame.offset - offset));
      }
      var blankBottom = 0;
      var last = state.last;
      var lastFrame = this._getFrameMetrics(last);
      while (last >= state.first && (!lastFrame || !lastFrame.inLayout)) {
        lastFrame = this._getFrameMetrics(last);
        last--;
      }
      if (lastFrame && last < props.getItemCount(props.data) - 1) {
        var bottomEdge = lastFrame.offset + lastFrame.length;
        blankBottom = Math.min(visibleLength, Math.max(0, offset + visibleLength - bottomEdge));
      }
      var pixels_blank = Math.round(blankTop + blankBottom);
      var blankness = pixels_blank / visibleLength;
      if (blankness > 0) {
        this._anyBlankStartTime = now;
        this._info.any_blank_speed_sum += scrollSpeed;
        this._info.any_blank_count++;
        this._info.pixels_blank += pixels_blank;
        if (blankness > 0.5) {
          this._mostlyBlankStartTime = now;
          this._info.mostly_blank_count++;
        }
      } else if (scrollSpeed < 0.01 || Math.abs(dOffset) < 1) {
        this.deactivateAndFlush();
      }
      return blankness;
    }
  }, {
    key: "enabled",
    value: function enabled() {
      return this._enabled;
    }
  }, {
    key: "_resetData",
    value: function _resetData() {
      this._anyBlankStartTime = null;
      this._info = new Info();
      this._mostlyBlankStartTime = null;
      this._samplesStartTime = null;
    }
  }], [{
    key: "addListener",
    value: function addListener(callback) {
      if (_sampleRate === null) {
        console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.');
      }
      _listeners.push(callback);
      return {
        remove: function remove() {
          _listeners = _listeners.filter(function (listener) {
            return callback !== listener;
          });
        }
      };
    }
  }, {
    key: "setSampleRate",
    value: function setSampleRate(sampleRate) {
      _sampleRate = sampleRate;
    }
  }, {
    key: "setMinSampleCount",
    value: function setMinSampleCount(minSampleCount) {
      _minSampleCount = minSampleCount;
    }
  }]);
  return FillRateHelper;
}();
module.exports = FillRateHelper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbmZvIiwiYW55X2JsYW5rX2NvdW50IiwiYW55X2JsYW5rX21zIiwiYW55X2JsYW5rX3NwZWVkX3N1bSIsIm1vc3RseV9ibGFua19jb3VudCIsIm1vc3RseV9ibGFua19tcyIsInBpeGVsc19ibGFuayIsInBpeGVsc19zYW1wbGVkIiwicGl4ZWxzX3Njcm9sbGVkIiwidG90YWxfdGltZV9zcGVudCIsInNhbXBsZV9jb3VudCIsIkRFQlVHIiwiX2xpc3RlbmVycyIsIl9taW5TYW1wbGVDb3VudCIsIl9zYW1wbGVSYXRlIiwiRmlsbFJhdGVIZWxwZXIiLCJnZXRGcmFtZU1ldHJpY3MiLCJfYW55QmxhbmtTdGFydFRpbWUiLCJfZW5hYmxlZCIsIl9pbmZvIiwiX21vc3RseUJsYW5rU3RhcnRUaW1lIiwiX3NhbXBsZXNTdGFydFRpbWUiLCJfZ2V0RnJhbWVNZXRyaWNzIiwiTWF0aCIsInJhbmRvbSIsIl9yZXNldERhdGEiLCJjb25zb2xlIiwiZGVidWciLCJnbG9iYWwiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInN0YXJ0IiwiaW5mbyIsImRlcml2ZWQiLCJhdmdfYmxhbmtuZXNzIiwiYXZnX3NwZWVkIiwiYXZnX3NwZWVkX3doZW5fYW55X2JsYW5rIiwiYW55X2JsYW5rX3Blcl9taW4iLCJhbnlfYmxhbmtfdGltZV9mcmFjIiwibW9zdGx5X2JsYW5rX3Blcl9taW4iLCJtb3N0bHlfYmxhbmtfdGltZV9mcmFjIiwia2V5Iiwicm91bmQiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJwcm9wcyIsInN0YXRlIiwic2Nyb2xsTWV0cmljcyIsImdldEl0ZW1Db3VudCIsImRhdGEiLCJkT2Zmc2V0Iiwib2Zmc2V0IiwidmVsb2NpdHkiLCJ2aXNpYmxlTGVuZ3RoIiwiYWJzIiwic2Nyb2xsU3BlZWQiLCJibGFua1RvcCIsImZpcnN0IiwiZmlyc3RGcmFtZSIsImxhc3QiLCJpbkxheW91dCIsIm1pbiIsIm1heCIsImJsYW5rQm90dG9tIiwibGFzdEZyYW1lIiwiYm90dG9tRWRnZSIsImxlbmd0aCIsImJsYW5rbmVzcyIsImRlYWN0aXZhdGVBbmRGbHVzaCIsImNhbGxiYWNrIiwid2FybiIsInB1c2giLCJyZW1vdmUiLCJmaWx0ZXIiLCJzYW1wbGVSYXRlIiwibWluU2FtcGxlQ291bnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiRmlsbFJhdGVIZWxwZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgdHlwZSBGaWxsUmF0ZUluZm8gPSBJbmZvO1xuXG5jbGFzcyBJbmZvIHtcbiAgYW55X2JsYW5rX2NvdW50OiBudW1iZXIgPSAwO1xuICBhbnlfYmxhbmtfbXM6IG51bWJlciA9IDA7XG4gIGFueV9ibGFua19zcGVlZF9zdW06IG51bWJlciA9IDA7XG4gIG1vc3RseV9ibGFua19jb3VudDogbnVtYmVyID0gMDtcbiAgbW9zdGx5X2JsYW5rX21zOiBudW1iZXIgPSAwO1xuICBwaXhlbHNfYmxhbms6IG51bWJlciA9IDA7XG4gIHBpeGVsc19zYW1wbGVkOiBudW1iZXIgPSAwO1xuICBwaXhlbHNfc2Nyb2xsZWQ6IG51bWJlciA9IDA7XG4gIHRvdGFsX3RpbWVfc3BlbnQ6IG51bWJlciA9IDA7XG4gIHNhbXBsZV9jb3VudDogbnVtYmVyID0gMDtcbn1cblxudHlwZSBGcmFtZU1ldHJpY3MgPSB7XG4gIGluTGF5b3V0PzogYm9vbGVhbixcbiAgbGVuZ3RoOiBudW1iZXIsXG4gIG9mZnNldDogbnVtYmVyLFxuICAuLi5cbn07XG5cbmNvbnN0IERFQlVHID0gZmFsc2U7XG5cbmxldCBfbGlzdGVuZXJzOiBBcnJheTwoSW5mbykgPT4gdm9pZD4gPSBbXTtcbmxldCBfbWluU2FtcGxlQ291bnQgPSAxMDtcbmxldCBfc2FtcGxlUmF0ZSA9IERFQlVHID8gMSA6IG51bGw7XG5cbi8qKlxuICogQSBoZWxwZXIgY2xhc3MgZm9yIGRldGVjdGluZyB3aGVuIHRoZSBtYXhpbWVtIGZpbGwgcmF0ZSBvZiBgVmlydHVhbGl6ZWRMaXN0YCBpcyBleGNlZWRlZC5cbiAqIEJ5IGRlZmF1bHQgdGhlIHNhbXBsaW5nIHJhdGUgaXMgc2V0IHRvIHplcm8gYW5kIHRoaXMgd2lsbCBkbyBub3RoaW5nLiBJZiB5b3Ugd2FudCB0byBjb2xsZWN0XG4gKiBzYW1wbGVzIChlLmcuIHRvIGxvZyB0aGVtKSwgbWFrZSBzdXJlIHRvIGNhbGwgYEZpbGxSYXRlSGVscGVyLnNldFNhbXBsZVJhdGUoMC4wLTEuMClgLlxuICpcbiAqIExpc3RlbmVycyBhbmQgc2FtcGxlIHJhdGUgYXJlIGdsb2JhbCBmb3IgYWxsIGBWaXJ0dWFsaXplZExpc3RgcyAtIHR5cGljYWwgdXNhZ2Ugd2lsbCBjb21iaW5lIHdpdGhcbiAqIGBTY2VuZVRyYWNrZXIuZ2V0QWN0aXZlU2NlbmVgIHRvIGRldGVybWluZSB0aGUgY29udGV4dCBvZiB0aGUgZXZlbnRzLlxuICovXG5jbGFzcyBGaWxsUmF0ZUhlbHBlciB7XG4gIF9hbnlCbGFua1N0YXJ0VGltZSA9IChudWxsOiA/bnVtYmVyKTtcbiAgX2VuYWJsZWQgPSBmYWxzZTtcbiAgX2dldEZyYW1lTWV0cmljczogKGluZGV4OiBudW1iZXIpID0+ID9GcmFtZU1ldHJpY3M7XG4gIF9pbmZvID0gbmV3IEluZm8oKTtcbiAgX21vc3RseUJsYW5rU3RhcnRUaW1lID0gKG51bGw6ID9udW1iZXIpO1xuICBfc2FtcGxlc1N0YXJ0VGltZSA9IChudWxsOiA/bnVtYmVyKTtcblxuICBzdGF0aWMgYWRkTGlzdGVuZXIoY2FsbGJhY2s6IEZpbGxSYXRlSW5mbyA9PiB2b2lkKToge1xuICAgIHJlbW92ZTogKCkgPT4gdm9pZCxcbiAgICAuLi5cbiAgfSB7XG4gICAgaWYgKF9zYW1wbGVSYXRlID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0NhbGwgYEZpbGxSYXRlSGVscGVyLnNldFNhbXBsZVJhdGVgIGJlZm9yZSBgYWRkTGlzdGVuZXJgLicpO1xuICAgIH1cbiAgICBfbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6ICgpID0+IHtcbiAgICAgICAgX2xpc3RlbmVycyA9IF9saXN0ZW5lcnMuZmlsdGVyKGxpc3RlbmVyID0+IGNhbGxiYWNrICE9PSBsaXN0ZW5lcik7XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgc2V0U2FtcGxlUmF0ZShzYW1wbGVSYXRlOiBudW1iZXIpIHtcbiAgICBfc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XG4gIH1cblxuICBzdGF0aWMgc2V0TWluU2FtcGxlQ291bnQobWluU2FtcGxlQ291bnQ6IG51bWJlcikge1xuICAgIF9taW5TYW1wbGVDb3VudCA9IG1pblNhbXBsZUNvdW50O1xuICB9XG5cbiAgY29uc3RydWN0b3IoZ2V0RnJhbWVNZXRyaWNzOiAoaW5kZXg6IG51bWJlcikgPT4gP0ZyYW1lTWV0cmljcykge1xuICAgIHRoaXMuX2dldEZyYW1lTWV0cmljcyA9IGdldEZyYW1lTWV0cmljcztcbiAgICB0aGlzLl9lbmFibGVkID0gKF9zYW1wbGVSYXRlIHx8IDApID4gTWF0aC5yYW5kb20oKTtcbiAgICB0aGlzLl9yZXNldERhdGEoKTtcbiAgfVxuXG4gIGFjdGl2YXRlKCkge1xuICAgIGlmICh0aGlzLl9lbmFibGVkICYmIHRoaXMuX3NhbXBsZXNTdGFydFRpbWUgPT0gbnVsbCkge1xuICAgICAgREVCVUcgJiYgY29uc29sZS5kZWJ1ZygnRmlsbFJhdGVIZWxwZXI6IGFjdGl2YXRlJyk7XG4gICAgICB0aGlzLl9zYW1wbGVzU3RhcnRUaW1lID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgfVxuXG4gIGRlYWN0aXZhdGVBbmRGbHVzaCgpIHtcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLl9zYW1wbGVzU3RhcnRUaW1lOyAvLyBjb25zdCBmb3IgZmxvd1xuICAgIGlmIChzdGFydCA9PSBudWxsKSB7XG4gICAgICBERUJVRyAmJlxuICAgICAgICBjb25zb2xlLmRlYnVnKCdGaWxsUmF0ZUhlbHBlcjogYmFpbCBvbiBkZWFjdGl2YXRlIHdpdGggbm8gc3RhcnQgdGltZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5faW5mby5zYW1wbGVfY291bnQgPCBfbWluU2FtcGxlQ291bnQpIHtcbiAgICAgIC8vIERvbid0IGJvdGhlciB3aXRoIHVuZGVyLXNhbXBsZWQgZXZlbnRzLlxuICAgICAgdGhpcy5fcmVzZXREYXRhKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRvdGFsX3RpbWVfc3BlbnQgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDtcbiAgICBjb25zdCBpbmZvOiBhbnkgPSB7XG4gICAgICAuLi50aGlzLl9pbmZvLFxuICAgICAgdG90YWxfdGltZV9zcGVudCxcbiAgICB9O1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc3QgZGVyaXZlZCA9IHtcbiAgICAgICAgYXZnX2JsYW5rbmVzczogdGhpcy5faW5mby5waXhlbHNfYmxhbmsgLyB0aGlzLl9pbmZvLnBpeGVsc19zYW1wbGVkLFxuICAgICAgICBhdmdfc3BlZWQ6IHRoaXMuX2luZm8ucGl4ZWxzX3Njcm9sbGVkIC8gKHRvdGFsX3RpbWVfc3BlbnQgLyAxMDAwKSxcbiAgICAgICAgYXZnX3NwZWVkX3doZW5fYW55X2JsYW5rOlxuICAgICAgICAgIHRoaXMuX2luZm8uYW55X2JsYW5rX3NwZWVkX3N1bSAvIHRoaXMuX2luZm8uYW55X2JsYW5rX2NvdW50LFxuICAgICAgICBhbnlfYmxhbmtfcGVyX21pbjpcbiAgICAgICAgICB0aGlzLl9pbmZvLmFueV9ibGFua19jb3VudCAvICh0b3RhbF90aW1lX3NwZW50IC8gMTAwMCAvIDYwKSxcbiAgICAgICAgYW55X2JsYW5rX3RpbWVfZnJhYzogdGhpcy5faW5mby5hbnlfYmxhbmtfbXMgLyB0b3RhbF90aW1lX3NwZW50LFxuICAgICAgICBtb3N0bHlfYmxhbmtfcGVyX21pbjpcbiAgICAgICAgICB0aGlzLl9pbmZvLm1vc3RseV9ibGFua19jb3VudCAvICh0b3RhbF90aW1lX3NwZW50IC8gMTAwMCAvIDYwKSxcbiAgICAgICAgbW9zdGx5X2JsYW5rX3RpbWVfZnJhYzogdGhpcy5faW5mby5tb3N0bHlfYmxhbmtfbXMgLyB0b3RhbF90aW1lX3NwZW50LFxuICAgICAgfTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlcml2ZWQpIHtcbiAgICAgICAgZGVyaXZlZFtrZXldID0gTWF0aC5yb3VuZCgxMDAwICogZGVyaXZlZFtrZXldKSAvIDEwMDA7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmRlYnVnKCdGaWxsUmF0ZUhlbHBlciBkZWFjdGl2YXRlQW5kRmx1c2g6ICcsIHtkZXJpdmVkLCBpbmZvfSk7XG4gICAgfVxuICAgIF9saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihpbmZvKSk7XG4gICAgdGhpcy5fcmVzZXREYXRhKCk7XG4gIH1cblxuICBjb21wdXRlQmxhbmtuZXNzKFxuICAgIHByb3BzOiB7XG4gICAgICBkYXRhOiBhbnksXG4gICAgICBnZXRJdGVtQ291bnQ6IChkYXRhOiBhbnkpID0+IG51bWJlcixcbiAgICAgIGluaXRpYWxOdW1Ub1JlbmRlcj86ID9udW1iZXIsXG4gICAgICAuLi5cbiAgICB9LFxuICAgIHN0YXRlOiB7XG4gICAgICBmaXJzdDogbnVtYmVyLFxuICAgICAgbGFzdDogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfSxcbiAgICBzY3JvbGxNZXRyaWNzOiB7XG4gICAgICBkT2Zmc2V0OiBudW1iZXIsXG4gICAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAgIHZlbG9jaXR5OiBudW1iZXIsXG4gICAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9LFxuICApOiBudW1iZXIge1xuICAgIGlmIChcbiAgICAgICF0aGlzLl9lbmFibGVkIHx8XG4gICAgICBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSkgPT09IDAgfHxcbiAgICAgIHRoaXMuX3NhbXBsZXNTdGFydFRpbWUgPT0gbnVsbFxuICAgICkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IHtkT2Zmc2V0LCBvZmZzZXQsIHZlbG9jaXR5LCB2aXNpYmxlTGVuZ3RofSA9IHNjcm9sbE1ldHJpY3M7XG5cbiAgICAvLyBEZW5vbWluYXRvciBtZXRyaWNzIHRoYXQgd2UgdHJhY2sgZm9yIGFsbCBldmVudHMgLSBtb3N0IG9mIHRoZSB0aW1lIHRoZXJlIGlzIG5vIGJsYW5rbmVzcyBhbmRcbiAgICAvLyB3ZSB3YW50IHRvIGNhcHR1cmUgdGhhdC5cbiAgICB0aGlzLl9pbmZvLnNhbXBsZV9jb3VudCsrO1xuICAgIHRoaXMuX2luZm8ucGl4ZWxzX3NhbXBsZWQgKz0gTWF0aC5yb3VuZCh2aXNpYmxlTGVuZ3RoKTtcbiAgICB0aGlzLl9pbmZvLnBpeGVsc19zY3JvbGxlZCArPSBNYXRoLnJvdW5kKE1hdGguYWJzKGRPZmZzZXQpKTtcbiAgICBjb25zdCBzY3JvbGxTcGVlZCA9IE1hdGgucm91bmQoTWF0aC5hYnModmVsb2NpdHkpICogMTAwMCk7IC8vIHB4IC8gc2VjXG5cbiAgICAvLyBXaGV0aGVyIGJsYW5rIG5vdyBvciBub3QsIHJlY29yZCB0aGUgZWxhcHNlZCB0aW1lIGJsYW5rIGlmIHdlIHdlcmUgYmxhbmsgbGFzdCB0aW1lLlxuICAgIGNvbnN0IG5vdyA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICBpZiAodGhpcy5fYW55QmxhbmtTdGFydFRpbWUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5faW5mby5hbnlfYmxhbmtfbXMgKz0gbm93IC0gdGhpcy5fYW55QmxhbmtTdGFydFRpbWU7XG4gICAgfVxuICAgIHRoaXMuX2FueUJsYW5rU3RhcnRUaW1lID0gbnVsbDtcbiAgICBpZiAodGhpcy5fbW9zdGx5QmxhbmtTdGFydFRpbWUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5faW5mby5tb3N0bHlfYmxhbmtfbXMgKz0gbm93IC0gdGhpcy5fbW9zdGx5QmxhbmtTdGFydFRpbWU7XG4gICAgfVxuICAgIHRoaXMuX21vc3RseUJsYW5rU3RhcnRUaW1lID0gbnVsbDtcblxuICAgIGxldCBibGFua1RvcCA9IDA7XG4gICAgbGV0IGZpcnN0ID0gc3RhdGUuZmlyc3Q7XG4gICAgbGV0IGZpcnN0RnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3MoZmlyc3QpO1xuICAgIHdoaWxlIChmaXJzdCA8PSBzdGF0ZS5sYXN0ICYmICghZmlyc3RGcmFtZSB8fCAhZmlyc3RGcmFtZS5pbkxheW91dCkpIHtcbiAgICAgIGZpcnN0RnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3MoZmlyc3QpO1xuICAgICAgZmlyc3QrKztcbiAgICB9XG4gICAgLy8gT25seSBjb3VudCBibGFua1RvcCBpZiB3ZSBhcmVuJ3QgcmVuZGVyaW5nIHRoZSBmaXJzdCBpdGVtLCBvdGhlcndpc2Ugd2Ugd2lsbCBjb3VudCB0aGUgaGVhZGVyXG4gICAgLy8gYXMgYmxhbmsuXG4gICAgaWYgKGZpcnN0RnJhbWUgJiYgZmlyc3QgPiAwKSB7XG4gICAgICBibGFua1RvcCA9IE1hdGgubWluKFxuICAgICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgICBNYXRoLm1heCgwLCBmaXJzdEZyYW1lLm9mZnNldCAtIG9mZnNldCksXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgYmxhbmtCb3R0b20gPSAwO1xuICAgIGxldCBsYXN0ID0gc3RhdGUubGFzdDtcbiAgICBsZXQgbGFzdEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzKGxhc3QpO1xuICAgIHdoaWxlIChsYXN0ID49IHN0YXRlLmZpcnN0ICYmICghbGFzdEZyYW1lIHx8ICFsYXN0RnJhbWUuaW5MYXlvdXQpKSB7XG4gICAgICBsYXN0RnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3MobGFzdCk7XG4gICAgICBsYXN0LS07XG4gICAgfVxuICAgIC8vIE9ubHkgY291bnQgYmxhbmtCb3R0b20gaWYgd2UgYXJlbid0IHJlbmRlcmluZyB0aGUgbGFzdCBpdGVtLCBvdGhlcndpc2Ugd2Ugd2lsbCBjb3VudCB0aGVcbiAgICAvLyBmb290ZXIgYXMgYmxhbmsuXG4gICAgaWYgKGxhc3RGcmFtZSAmJiBsYXN0IDwgcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpIC0gMSkge1xuICAgICAgY29uc3QgYm90dG9tRWRnZSA9IGxhc3RGcmFtZS5vZmZzZXQgKyBsYXN0RnJhbWUubGVuZ3RoO1xuICAgICAgYmxhbmtCb3R0b20gPSBNYXRoLm1pbihcbiAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgTWF0aC5tYXgoMCwgb2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCAtIGJvdHRvbUVkZ2UpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcGl4ZWxzX2JsYW5rID0gTWF0aC5yb3VuZChibGFua1RvcCArIGJsYW5rQm90dG9tKTtcbiAgICBjb25zdCBibGFua25lc3MgPSBwaXhlbHNfYmxhbmsgLyB2aXNpYmxlTGVuZ3RoO1xuICAgIGlmIChibGFua25lc3MgPiAwKSB7XG4gICAgICB0aGlzLl9hbnlCbGFua1N0YXJ0VGltZSA9IG5vdztcbiAgICAgIHRoaXMuX2luZm8uYW55X2JsYW5rX3NwZWVkX3N1bSArPSBzY3JvbGxTcGVlZDtcbiAgICAgIHRoaXMuX2luZm8uYW55X2JsYW5rX2NvdW50Kys7XG4gICAgICB0aGlzLl9pbmZvLnBpeGVsc19ibGFuayArPSBwaXhlbHNfYmxhbms7XG4gICAgICBpZiAoYmxhbmtuZXNzID4gMC41KSB7XG4gICAgICAgIHRoaXMuX21vc3RseUJsYW5rU3RhcnRUaW1lID0gbm93O1xuICAgICAgICB0aGlzLl9pbmZvLm1vc3RseV9ibGFua19jb3VudCsrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2Nyb2xsU3BlZWQgPCAwLjAxIHx8IE1hdGguYWJzKGRPZmZzZXQpIDwgMSkge1xuICAgICAgdGhpcy5kZWFjdGl2YXRlQW5kRmx1c2goKTtcbiAgICB9XG4gICAgcmV0dXJuIGJsYW5rbmVzcztcbiAgfVxuXG4gIGVuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gIH1cblxuICBfcmVzZXREYXRhKCkge1xuICAgIHRoaXMuX2FueUJsYW5rU3RhcnRUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9pbmZvID0gbmV3IEluZm8oKTtcbiAgICB0aGlzLl9tb3N0bHlCbGFua1N0YXJ0VGltZSA9IG51bGw7XG4gICAgdGhpcy5fc2FtcGxlc1N0YXJ0VGltZSA9IG51bGw7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBGaWxsUmF0ZUhlbHBlcjtcbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFBQztBQUFBO0FBQUE7QUFBQSxJQUlQQSxJQUFJO0VBQUE7RUFBQSxLQUNSQyxlQUFlLEdBQVcsQ0FBQztFQUFBLEtBQzNCQyxZQUFZLEdBQVcsQ0FBQztFQUFBLEtBQ3hCQyxtQkFBbUIsR0FBVyxDQUFDO0VBQUEsS0FDL0JDLGtCQUFrQixHQUFXLENBQUM7RUFBQSxLQUM5QkMsZUFBZSxHQUFXLENBQUM7RUFBQSxLQUMzQkMsWUFBWSxHQUFXLENBQUM7RUFBQSxLQUN4QkMsY0FBYyxHQUFXLENBQUM7RUFBQSxLQUMxQkMsZUFBZSxHQUFXLENBQUM7RUFBQSxLQUMzQkMsZ0JBQWdCLEdBQVcsQ0FBQztFQUFBLEtBQzVCQyxZQUFZLEdBQVcsQ0FBQztBQUFBO0FBVTFCLElBQU1DLEtBQUssR0FBRyxLQUFLO0FBRW5CLElBQUlDLFVBQWlDLEdBQUcsRUFB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