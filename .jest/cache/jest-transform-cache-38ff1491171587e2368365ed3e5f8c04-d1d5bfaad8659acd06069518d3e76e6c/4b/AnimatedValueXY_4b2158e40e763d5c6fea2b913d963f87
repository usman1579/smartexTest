9e2ad786373efcdc91b0736989b6eff7
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var AnimatedValue = require('./AnimatedValue');
var AnimatedWithChildren = require('./AnimatedWithChildren');
var invariant = require('invariant');
var _uniqueId = 1;
var AnimatedValueXY = function (_AnimatedWithChildren) {
  (0, _inherits2.default)(AnimatedValueXY, _AnimatedWithChildren);
  var _super = _createSuper(AnimatedValueXY);
  function AnimatedValueXY(valueIn, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedValueXY);
    _this = _super.call(this);
    var value = valueIn || {
      x: 0,
      y: 0
    };
    if (typeof value.x === 'number' && typeof value.y === 'number') {
      _this.x = new AnimatedValue(value.x);
      _this.y = new AnimatedValue(value.y);
    } else {
      invariant(value.x instanceof AnimatedValue && value.y instanceof AnimatedValue, 'AnimatedValueXY must be initialized with an object of numbers or ' + 'AnimatedValues.');
      _this.x = value.x;
      _this.y = value.y;
    }
    _this._listeners = {};
    if (config && config.useNativeDriver) {
      _this.__makeNative();
    }
    return _this;
  }
  (0, _createClass2.default)(AnimatedValueXY, [{
    key: "setValue",
    value: function setValue(value) {
      this.x.setValue(value.x);
      this.y.setValue(value.y);
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this.x.setOffset(offset.x);
      this.y.setOffset(offset.y);
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this.x.flattenOffset();
      this.y.flattenOffset();
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this.x.extractOffset();
      this.y.extractOffset();
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      return {
        x: this.x.__getValue(),
        y: this.y.__getValue()
      };
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.x.resetAnimation();
      this.y.resetAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.x.stopAnimation();
      this.y.stopAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "addListener",
    value: function addListener(callback) {
      var _this2 = this;
      var id = String(_uniqueId++);
      var jointCallback = function jointCallback(_ref) {
        var number = _ref.value;
        callback(_this2.__getValue());
      };
      this._listeners[id] = {
        x: this.x.addListener(jointCallback),
        y: this.y.addListener(jointCallback)
      };
      return id;
    }
  }, {
    key: "removeListener",
    value: function removeListener(id) {
      this.x.removeListener(this._listeners[id].x);
      this.y.removeListener(this._listeners[id].y);
      delete this._listeners[id];
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners() {
      this.x.removeAllListeners();
      this.y.removeAllListeners();
      this._listeners = {};
    }
  }, {
    key: "getLayout",
    value: function getLayout() {
      return {
        left: this.x,
        top: this.y
      };
    }
  }, {
    key: "getTranslateTransform",
    value: function getTranslateTransform() {
      return [{
        translateX: this.x
      }, {
        translateY: this.y
      }];
    }
  }, {
    key: "__attach",
    value: function __attach() {
      this.x.__addChild(this);
      this.y.__addChild(this);
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValueXY.prototype), "__attach", this).call(this);
    }
  }, {
    key: "__detach",
    value: function __detach() {
      this.x.__removeChild(this);
      this.y.__removeChild(this);
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValueXY.prototype), "__detach", this).call(this);
    }
  }, {
    key: "__makeNative",
    value: function __makeNative(platformConfig) {
      this.x.__makeNative(platformConfig);
      this.y.__makeNative(platformConfig);
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValueXY.prototype), "__makeNative", this).call(this, platformConfig);
    }
  }]);
  return AnimatedValueXY;
}(AnimatedWithChildren);
module.exports = AnimatedValueXY;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBbmltYXRlZFZhbHVlIiwicmVxdWlyZSIsIkFuaW1hdGVkV2l0aENoaWxkcmVuIiwiaW52YXJpYW50IiwiX3VuaXF1ZUlkIiwiQW5pbWF0ZWRWYWx1ZVhZIiwidmFsdWVJbiIsImNvbmZpZyIsInZhbHVlIiwieCIsInkiLCJfbGlzdGVuZXJzIiwidXNlTmF0aXZlRHJpdmVyIiwiX19tYWtlTmF0aXZlIiwic2V0VmFsdWUiLCJvZmZzZXQiLCJzZXRPZmZzZXQiLCJmbGF0dGVuT2Zmc2V0IiwiZXh0cmFjdE9mZnNldCIsIl9fZ2V0VmFsdWUiLCJjYWxsYmFjayIsInJlc2V0QW5pbWF0aW9uIiwic3RvcEFuaW1hdGlvbiIsImlkIiwiU3RyaW5nIiwiam9pbnRDYWxsYmFjayIsIm51bWJlciIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJsZWZ0IiwidG9wIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJfX2FkZENoaWxkIiwiX19yZW1vdmVDaGlsZCIsInBsYXRmb3JtQ29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkFuaW1hdGVkVmFsdWVYWS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIHtQbGF0Zm9ybUNvbmZpZ30gZnJvbSAnLi4vQW5pbWF0ZWRQbGF0Zm9ybUNvbmZpZyc7XG5cbmNvbnN0IEFuaW1hdGVkVmFsdWUgPSByZXF1aXJlKCcuL0FuaW1hdGVkVmFsdWUnKTtcbmNvbnN0IEFuaW1hdGVkV2l0aENoaWxkcmVuID0gcmVxdWlyZSgnLi9BbmltYXRlZFdpdGhDaGlsZHJlbicpO1xuXG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxuZXhwb3J0IHR5cGUgQW5pbWF0ZWRWYWx1ZVhZQ29uZmlnID0gJFJlYWRPbmx5PHtcbiAgdXNlTmF0aXZlRHJpdmVyOiBib29sZWFuLFxufT47XG50eXBlIFZhbHVlWFlMaXN0ZW5lckNhbGxiYWNrID0gKHZhbHVlOiB7XG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICAuLi5cbn0pID0+IG1peGVkO1xuXG5sZXQgX3VuaXF1ZUlkID0gMTtcblxuLyoqXG4gKiAyRCBWYWx1ZSBmb3IgZHJpdmluZyAyRCBhbmltYXRpb25zLCBzdWNoIGFzIHBhbiBnZXN0dXJlcy4gQWxtb3N0IGlkZW50aWNhbFxuICogQVBJIHRvIG5vcm1hbCBgQW5pbWF0ZWQuVmFsdWVgLCBidXQgbXVsdGlwbGV4ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5XG4gKi9cbmNsYXNzIEFuaW1hdGVkVmFsdWVYWSBleHRlbmRzIEFuaW1hdGVkV2l0aENoaWxkcmVuIHtcbiAgeDogQW5pbWF0ZWRWYWx1ZTtcbiAgeTogQW5pbWF0ZWRWYWx1ZTtcbiAgX2xpc3RlbmVyczoge1xuICAgIFtrZXk6IHN0cmluZ106IHtcbiAgICAgIHg6IHN0cmluZyxcbiAgICAgIHk6IHN0cmluZyxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgLi4uXG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmFsdWVJbj86ID97XG4gICAgICAreDogbnVtYmVyIHwgQW5pbWF0ZWRWYWx1ZSxcbiAgICAgICt5OiBudW1iZXIgfCBBbmltYXRlZFZhbHVlLFxuICAgICAgLi4uXG4gICAgfSxcbiAgICBjb25maWc/OiA/QW5pbWF0ZWRWYWx1ZVhZQ29uZmlnLFxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHZhbHVlOiBhbnkgPSB2YWx1ZUluIHx8IHt4OiAwLCB5OiAwfTsgLy8gQGZsb3dmaXhtZTogc2hvdWxkbid0IG5lZWQgYDogYW55YFxuICAgIGlmICh0eXBlb2YgdmFsdWUueCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLnkgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnggPSBuZXcgQW5pbWF0ZWRWYWx1ZSh2YWx1ZS54KTtcbiAgICAgIHRoaXMueSA9IG5ldyBBbmltYXRlZFZhbHVlKHZhbHVlLnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHZhbHVlLnggaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlICYmIHZhbHVlLnkgaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlLFxuICAgICAgICAnQW5pbWF0ZWRWYWx1ZVhZIG11c3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhbiBvYmplY3Qgb2YgbnVtYmVycyBvciAnICtcbiAgICAgICAgICAnQW5pbWF0ZWRWYWx1ZXMuJyxcbiAgICAgICk7XG4gICAgICB0aGlzLnggPSB2YWx1ZS54O1xuICAgICAgdGhpcy55ID0gdmFsdWUueTtcbiAgICB9XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcudXNlTmF0aXZlRHJpdmVyKSB7XG4gICAgICB0aGlzLl9fbWFrZU5hdGl2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXJlY3RseSBzZXQgdGhlIHZhbHVlLiBUaGlzIHdpbGwgc3RvcCBhbnkgYW5pbWF0aW9ucyBydW5uaW5nIG9uIHRoZSB2YWx1ZVxuICAgKiBhbmQgdXBkYXRlIGFsbCB0aGUgYm91bmQgcHJvcGVydGllcy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I3NldHZhbHVlXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZToge3g6IG51bWJlciwgeTogbnVtYmVyLCAuLi59KSB7XG4gICAgdGhpcy54LnNldFZhbHVlKHZhbHVlLngpO1xuICAgIHRoaXMueS5zZXRWYWx1ZSh2YWx1ZS55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFuIG9mZnNldCB0aGF0IGlzIGFwcGxpZWQgb24gdG9wIG9mIHdoYXRldmVyIHZhbHVlIGlzIHNldCwgd2hldGhlclxuICAgKiB2aWEgYHNldFZhbHVlYCwgYW4gYW5pbWF0aW9uLCBvciBgQW5pbWF0ZWQuZXZlbnRgLiBVc2VmdWwgZm9yIGNvbXBlbnNhdGluZ1xuICAgKiB0aGluZ3MgbGlrZSB0aGUgc3RhcnQgb2YgYSBwYW4gZ2VzdHVyZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I3NldG9mZnNldFxuICAgKi9cbiAgc2V0T2Zmc2V0KG9mZnNldDoge3g6IG51bWJlciwgeTogbnVtYmVyLCAuLi59KSB7XG4gICAgdGhpcy54LnNldE9mZnNldChvZmZzZXQueCk7XG4gICAgdGhpcy55LnNldE9mZnNldChvZmZzZXQueSk7XG4gIH1cblxuICAvKipcbiAgICogTWVyZ2VzIHRoZSBvZmZzZXQgdmFsdWUgaW50byB0aGUgYmFzZSB2YWx1ZSBhbmQgcmVzZXRzIHRoZSBvZmZzZXQgdG8gemVyby5cbiAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjZmxhdHRlbm9mZnNldFxuICAgKi9cbiAgZmxhdHRlbk9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnguZmxhdHRlbk9mZnNldCgpO1xuICAgIHRoaXMueS5mbGF0dGVuT2Zmc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgb2Zmc2V0IHZhbHVlIHRvIHRoZSBiYXNlIHZhbHVlLCBhbmQgcmVzZXRzIHRoZSBiYXNlIHZhbHVlIHRvXG4gICAqIHplcm8uIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIHZhbHVlIGlzIHVuY2hhbmdlZC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2V4dHJhY3RvZmZzZXRcbiAgICovXG4gIGV4dHJhY3RPZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy54LmV4dHJhY3RPZmZzZXQoKTtcbiAgICB0aGlzLnkuZXh0cmFjdE9mZnNldCgpO1xuICB9XG5cbiAgX19nZXRWYWx1ZSgpOiB7XG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICAuLi5cbiAgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHRoaXMueC5fX2dldFZhbHVlKCksXG4gICAgICB5OiB0aGlzLnkuX19nZXRWYWx1ZSgpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IGFuaW1hdGlvbiBhbmQgcmVzZXRzIHRoZSB2YWx1ZSB0byBpdHMgb3JpZ2luYWwuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNyZXNldGFuaW1hdGlvblxuICAgKi9cbiAgcmVzZXRBbmltYXRpb24oXG4gICAgY2FsbGJhY2s/OiAodmFsdWU6IHtcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0pID0+IHZvaWQsXG4gICk6IHZvaWQge1xuICAgIHRoaXMueC5yZXNldEFuaW1hdGlvbigpO1xuICAgIHRoaXMueS5yZXNldEFuaW1hdGlvbigpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBhbnkgcnVubmluZyBhbmltYXRpb24gb3IgdHJhY2tpbmcuIGBjYWxsYmFja2AgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgKiBmaW5hbCB2YWx1ZSBhZnRlciBzdG9wcGluZyB0aGUgYW5pbWF0aW9uLCB3aGljaCBpcyB1c2VmdWwgZm9yIHVwZGF0aW5nXG4gICAqIHN0YXRlIHRvIG1hdGNoIHRoZSBhbmltYXRpb24gcG9zaXRpb24gd2l0aCBsYXlvdXQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNzdG9wYW5pbWF0aW9uXG4gICAqL1xuICBzdG9wQW5pbWF0aW9uKFxuICAgIGNhbGxiYWNrPzogKHZhbHVlOiB7XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9KSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnguc3RvcEFuaW1hdGlvbigpO1xuICAgIHRoaXMueS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gYXN5bmNocm9ub3VzIGxpc3RlbmVyIHRvIHRoZSB2YWx1ZSBzbyB5b3UgY2FuIG9ic2VydmUgdXBkYXRlcyBmcm9tXG4gICAqIGFuaW1hdGlvbnMuICBUaGlzIGlzIHVzZWZ1bCBiZWNhdXNlIHRoZXJlIGlzIG5vIHdheSB0byBzeW5jaHJvbm91c2x5IHJlYWRcbiAgICogdGhlIHZhbHVlIGJlY2F1c2UgaXQgbWlnaHQgYmUgZHJpdmVuIG5hdGl2ZWx5LlxuICAgKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgc2VydmVzIGFzIGFuIGlkZW50aWZpZXIgZm9yIHRoZSBsaXN0ZW5lci5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2FkZGxpc3RlbmVyXG4gICAqL1xuICBhZGRMaXN0ZW5lcihjYWxsYmFjazogVmFsdWVYWUxpc3RlbmVyQ2FsbGJhY2spOiBzdHJpbmcge1xuICAgIGNvbnN0IGlkID0gU3RyaW5nKF91bmlxdWVJZCsrKTtcbiAgICBjb25zdCBqb2ludENhbGxiYWNrID0gKHt2YWx1ZTogbnVtYmVyfTogYW55KSA9PiB7XG4gICAgICBjYWxsYmFjayh0aGlzLl9fZ2V0VmFsdWUoKSk7XG4gICAgfTtcbiAgICB0aGlzLl9saXN0ZW5lcnNbaWRdID0ge1xuICAgICAgeDogdGhpcy54LmFkZExpc3RlbmVyKGpvaW50Q2FsbGJhY2spLFxuICAgICAgeTogdGhpcy55LmFkZExpc3RlbmVyKGpvaW50Q2FsbGJhY2spLFxuICAgIH07XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXIgYSBsaXN0ZW5lci4gVGhlIGBpZGAgcGFyYW0gc2hhbGwgbWF0Y2ggdGhlIGlkZW50aWZpZXJcbiAgICogcHJldmlvdXNseSByZXR1cm5lZCBieSBgYWRkTGlzdGVuZXIoKWAuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNyZW1vdmVsaXN0ZW5lclxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXIoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMueC5yZW1vdmVMaXN0ZW5lcih0aGlzLl9saXN0ZW5lcnNbaWRdLngpO1xuICAgIHRoaXMueS5yZW1vdmVMaXN0ZW5lcih0aGlzLl9saXN0ZW5lcnNbaWRdLnkpO1xuICAgIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbaWRdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNyZW1vdmVhbGxsaXN0ZW5lcnNcbiAgICovXG4gIHJlbW92ZUFsbExpc3RlbmVycygpOiB2b2lkIHtcbiAgICB0aGlzLngucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy55LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGB7eCwgeX1gIGludG8gYHtsZWZ0LCB0b3B9YCBmb3IgdXNlIGluIHN0eWxlLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjZ2V0bGF5b3V0XG4gICAqL1xuICBnZXRMYXlvdXQoKToge1trZXk6IHN0cmluZ106IEFuaW1hdGVkVmFsdWUsIC4uLn0ge1xuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiB0aGlzLngsXG4gICAgICB0b3A6IHRoaXMueSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGB7eCwgeX1gIGludG8gYSB1c2VhYmxlIHRyYW5zbGF0aW9uIHRyYW5zZm9ybS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2dldHRyYW5zbGF0ZXRyYW5zZm9ybVxuICAgKi9cbiAgZ2V0VHJhbnNsYXRlVHJhbnNmb3JtKCk6IEFycmF5PHtba2V5OiBzdHJpbmddOiBBbmltYXRlZFZhbHVlLCAuLi59PiB7XG4gICAgcmV0dXJuIFt7dHJhbnNsYXRlWDogdGhpcy54fSwge3RyYW5zbGF0ZVk6IHRoaXMueX1dO1xuICB9XG5cbiAgX19hdHRhY2goKTogdm9pZCB7XG4gICAgdGhpcy54Ll9fYWRkQ2hpbGQodGhpcyk7XG4gICAgdGhpcy55Ll9fYWRkQ2hpbGQodGhpcyk7XG4gICAgc3VwZXIuX19hdHRhY2goKTtcbiAgfVxuXG4gIF9fZGV0YWNoKCk6IHZvaWQge1xuICAgIHRoaXMueC5fX3JlbW92ZUNoaWxkKHRoaXMpO1xuICAgIHRoaXMueS5fX3JlbW92ZUNoaWxkKHRoaXMpO1xuICAgIHN1cGVyLl9fZGV0YWNoKCk7XG4gIH1cblxuICBfX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWc6ID9QbGF0Zm9ybUNvbmZpZykge1xuICAgIHRoaXMueC5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIHRoaXMueS5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIHN1cGVyLl9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRlZFZhbHVlWFk7XG4iXSwibWFwcGluZ3MiOiJBQVVBLFlBQVk7O0FBQUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSWIsSUFBTUEsYUFBYSxHQUFHQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDaEQsSUFBTUMsb0JBQW9CLEdBQUdELE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztBQUU5RCxJQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFXdEMsSUFBSUcsU0FBUyxHQUFHLENBQUM7QUFBQyxJQVFaQyxlQUFlO0VBQUE7RUFBQTtFQVluQix5QkFDRUMsT0FJQyxFQUNEQyxNQUErQixFQUMvQjtJQUFBO0lBQUE7SUFDQTtJQUNBLElBQU1DLEtBQVUsR0FBR0YsT0FBTyxJQUFJO01BQUNHLENBQUMsRUFBRSxDQUFDO01BQUVDLENBQUMsRUFBRTtJQUFDLENBQUM7SUFDMUMsSUFBSSxPQUFPRixLQUFLLENBQUNDLENBQUMsS0FBSyxRQUFRLElBQUksT0FBT0QsS0FBSyxDQUFDRSxDQUFDLEtBQUssUUFBUSxFQUFFO01BQzlELE1BQUtELENBQUMsR0FBRyxJQUFJVCxhQUFhLENBQUNRLEtBQUssQ0FBQ0MsQ0FBQyxDQUFDO01BQ25DLE1BQUtDLENBQUMsR0FBRyxJQUFJVixhQUFhLENBQUNRLEtBQUssQ0FBQ0UsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsTUFBTTtNQUNMUCxTQUFTLENBQ1BLLEtBQUssQ0FBQ0MsQ0FBQyxZQUFZVCxhQUFhLElBQUlRLEtBQUssQ0FBQ0UsQ0FBQyxZQUFZVixhQUFhLEVBQ3BFLG1FQUFtRSxHQUNqRSxpQkFBaUIsQ0FDcEI7TUFDRCxNQUFLUyxDQUFDLEdBQUdELEtBQUssQ0FBQ0MsQ0FBQztNQUNoQixNQUFLQyxDQUFDLEdBQUdGLEtBQUssQ0FBQ0UsQ0FBQztJQUNsQjtJQUNBLE1BQUtDLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFDcEIsSUFBSUosTUFBTSxJQUFJQSxNQUFNLENBQUNLLGVBQWUsRUFBRTtNQUNwQyxNQUFLQyxZQUFZLEVBQUU7SUFDckI7SUFBQztFQUNIO0VBQUM7SUFBQTtJQUFBLE9BUUQsa0JBQVNMLEtBQWtDLEVBQUU7TUFDM0MsSUFBSSxDQUFDQyxDQUFDLENBQUNLLFFBQVEsQ0FBQ04sS0FBSyxDQUFDQyxDQUFDLENBQUM7TUFDeEIsSUFBSSxDQUFDQyxDQUFDLENBQUNJLFFBQVEsQ0FBQ04sS0FBSyxDQUFDRSxDQUFDLENBQUM7SUFDMUI7RUFBQztJQUFBO0lBQUEsT0FTRCxtQkFBVUssTUFBbUMsRUFBRTtNQUM3QyxJQUFJLENBQUNOLENBQUMsQ0FBQ08sU0FBUyxDQUFDRCxNQUFNLENBQUNOLENBQUMsQ0FBQztNQUMxQixJQUFJLENBQUNDLENBQUMsQ0FBQ00sU0FBUyxDQUFDRCxNQUFNLENBQUNMLENBQUMsQ0FBQztJQUM1QjtFQUFDO0lBQUE7SUFBQSxPQVFELHlCQUFzQjtNQUNwQixJQUFJLENBQUNELENBQUMsQ0FBQ1EsYUFBYSxFQUFFO01BQ3RCLElBQUksQ0FBQ1AsQ0FBQyxDQUFDTyxhQUFhLEVBQUU7SUFDeEI7RUFBQztJQUFBO0lBQUEsT0FRRCx5QkFBc0I7TUFDcEIsSUFBSSxDQUFDUixDQUFDLENBQUNTLGFBQWEsRUFBRTtNQUN0QixJQUFJLENBQUNSLENBQUMsQ0FBQ1EsYUFBYSxFQUFFO0lBQ3hCO0VBQUM7SUFBQTtJQUFBLE9BRUQsc0JBSUU7TUFDQSxPQUFPO1FBQ0xULENBQUMsRUFBRSxJQUFJLENBQUNBLENBQUMsQ0FBQ1UsVUFBVSxFQUFFO1FBQ3RCVCxDQUFDLEVBQUUsSUFBSSxDQUFDQSxDQUFDLENBQUNTLFVBQVU7TUFDdEIsQ0FBQztJQUNIO0VBQUM7SUFBQTtJQUFBLE9BT0Qsd0JBQ0VDLFFBSVUsRUFDSjtNQUNOLElBQUksQ0FBQ1gsQ0FBQyxDQUFDWSxjQUFjLEVBQUU7TUFDdkIsSUFBSSxDQUFDWCxDQUFDLENBQUNXLGNBQWMsRUFBRTtNQUN2QkQsUUFBUSxJQUFJQSxRQUFRLENBQUMsSUFBSSxDQUFDRCxVQUFVLEVBQUUsQ0FBQztJQUN6QztFQUFDO0lBQUE7SUFBQSxPQVNELHVCQUNFQyxRQUlVLEVBQ0o7TUFDTixJQUFJLENBQUNYLENBQUMsQ0FBQ2EsYUFBYSxFQUFFO01BQ3RCLElBQUksQ0FBQ1osQ0FBQyxDQUFDWSxhQUFhLEVBQUU7TUFDdEJGLFFBQVEsSUFBSUEsUUFBUSxDQUFDLElBQUksQ0FBQ0QsVUFBVSxFQUFFLENBQUM7SUFDekM7RUFBQztJQUFBO0lBQUEsT0FXRCxxQkFBWUMsUUFBaUMsRUFBVTtNQUFBO01BQ3JELElBQU1HLEVBQUUsR0FBR0MsTUFBTSxDQUFDcEIsU0FBUyxFQUFFLENBQUM7TUFDOUIsSUFBTXFCLGFBQWEsR0FBRyxTQUFoQkEsYUFBYSxPQUE2QjtRQUFBLElBQWpCQyxNQUFNLFFBQWJsQixLQUFLO1FBQzNCWSxRQUFRLENBQUMsTUFBSSxDQUFDRCxVQUFVLEVBQUUsQ0FBQztNQUM3QixDQUFDO01BQ0QsSUFBSSxDQUFDUixVQUFVLENBQUNZLEVBQUUsQ0FBQyxHQUFHO1FBQ3BCZCxDQUFDLEVBQUUsSUFBSSxDQUFDQSxDQUFDLENBQUNrQixXQUFXLENBQUNGLGFBQWEsQ0FBQztRQUNwQ2YsQ0FBQyxFQUFFLElBQUksQ0FBQ0EsQ0FBQyxDQUFDaUIsV0FBVyxDQUFDRixhQUFhO01BQ3JDLENBQUM7TUFDRCxPQUFPRixFQUFFO0lBQ1g7RUFBQztJQUFBO0lBQUEsT0FRRCx3QkFBZUEsRUFBVSxFQUFRO01BQy9CLElBQUksQ0FBQ2QsQ0FBQyxDQUFDbUIsY0FBYyxDQUFDLElBQUksQ0FBQ2pCLFVBQVUsQ0FBQ1ksRUFBRSxDQUFDLENBQUNkLENBQUMsQ0FBQztNQUM1QyxJQUFJLENBQUNDLENBQUMsQ0FBQ2tCLGNBQWMsQ0FBQyxJQUFJLENBQUNqQixVQUFVLENBQUNZLEVBQUUsQ0FBQyxDQUFDYixDQUFDLENBQUM7TUFDNUMsT0FBTyxJQUFJLENBQUNDLFVBQVUsQ0FBQ1ksRUFBRSxDQUFDO0lBQzVCO0VBQUM7SUFBQTtJQUFBLE9BT0QsOEJBQTJCO01BQ3pCLElBQUksQ0FBQ2QsQ0FBQyxDQUFDb0Isa0JBQWtCLEVBQUU7TUFDM0IsSUFBSSxDQUFDbkIsQ0FBQyxDQUFDbUIsa0JBQWtCLEVBQUU7TUFDM0IsSUFBSSxDQUFDbEIsVUFBVSxHQUFHLENBQUMsQ0FBQztJQUN0QjtFQUFDO0lBQUE7SUFBQSxPQU9ELHFCQUFpRDtNQUMvQyxPQUFPO1FBQ0xtQixJQUFJLEVBQUUsSUFBSSxDQUFDckIsQ0FBQztRQUNac0IsR0FBRyxFQUFFLElBQUksQ0FBQ3JCO01BQ1osQ0FBQztJQUNIO0VBQUM7SUFBQTtJQUFBLE9BT0QsaUNBQW9FO01BQ2xFLE9BQU8sQ0FBQztRQUFDc0IsVUFBVSxFQUFFLElBQUksQ0FBQ3ZCO01BQUMsQ0FBQyxFQUFFO1FBQUN3QixVQUFVLEVBQUUsSUFBSSxDQUFDdkI7TUFBQyxDQUFDLENBQUM7SUFDckQ7RUFBQztJQUFBO0lBQUEsT0FFRCxvQkFBaUI7TUFDZixJQUFJLENBQUNELENBQUMsQ0FBQ3lCLFVBQVUsQ0FBQyxJQUFJLENBQUM7TUFDdkIsSUFBSSxDQUFDeEIsQ0FBQyxDQUFDd0IsVUFBVSxDQUFDLElBQUksQ0FBQztNQUN2QjtJQUNGO0VBQUM7SUFBQTtJQUFBLE9BRUQsb0JBQWlCO01BQ2YsSUFBSSxDQUFDekIsQ0FBQyxDQUFDMEIsYUFBYSxDQUFDLElBQUksQ0FBQztNQUMxQixJQUFJLENBQUN6QixDQUFDLENBQUN5QixhQUFhLENBQUMsSUFBSSxDQUFDO01BQzFCO0lBQ0Y7RUFBQztJQUFBO0lBQUEsT0FFRCxzQkFBYUMsY0FBK0IsRUFBRTtNQUM1QyxJQUFJLENBQUMzQixDQUFDLENBQUNJLFlBQVksQ0FBQ3VCLGNBQWMsQ0FBQztNQUNuQyxJQUFJLENBQUMxQixDQUFDLENBQUNHLFlBQVksQ0FBQ3VCLGNBQWMsQ0FBQztNQUNuQyw4R0FBbUJBLGNBQWM7SUFDbkM7RUFBQztFQUFBO0FBQUEsRUFyTjJCbEMsb0JBQW9CO0FBd05sRG1DLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHakMsZUFBZSJ9