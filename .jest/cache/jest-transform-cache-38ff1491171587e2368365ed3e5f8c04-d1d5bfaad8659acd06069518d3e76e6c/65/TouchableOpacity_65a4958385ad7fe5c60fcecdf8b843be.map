{"version":3,"names":["TouchableOpacity","state","anim","Animated","Value","_getChildStyleOpacityWithDefault","pressability","Pressability","_createPressabilityConfig","cancelable","props","rejectResponderTermination","disabled","accessibilityState","hitSlop","delayLongPress","delayPressIn","delayPressOut","minPressDuration","pressRectOffset","pressRetentionOffset","onBlur","event","Platform","isTV","_opacityInactive","onFocus","_opacityActive","onLongPress","onPress","onPressIn","dispatchConfig","registrationName","onPressOut","toValue","duration","timing","easing","Easing","inOut","quad","useNativeDriver","start","_setOpacityTo","activeOpacity","opacity","flattenStyle","style","getEventHandlers","eventHandlersWithoutBlurAndFocus","accessible","accessibilityLabel","accessibilityHint","accessibilityLanguage","accessibilityRole","accessibilityActions","onAccessibilityAction","accessibilityValue","importantForAccessibility","accessibilityLiveRegion","accessibilityViewIsModal","accessibilityElementsHidden","nativeID","testID","onLayout","nextFocusDown","nextFocusForward","nextFocusLeft","nextFocusRight","nextFocusUp","hasTVPreferredFocus","focusable","undefined","hostRef","children","__DEV__","prevProps","prevState","configure","reset","React","Component","Touchable","forwardRef","ref","displayName","module","exports"],"sources":["TouchableOpacity.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\nimport Pressability, {\n  type PressabilityConfig,\n} from '../../Pressability/Pressability';\nimport {PressabilityDebugView} from '../../Pressability/PressabilityDebug';\nimport typeof TouchableWithoutFeedback from './TouchableWithoutFeedback';\nimport Animated from 'react-native/Libraries/Animated/Animated';\nimport Easing from 'react-native/Libraries/Animated/Easing';\nimport type {ViewStyleProp} from 'react-native/Libraries/StyleSheet/StyleSheet';\nimport flattenStyle from 'react-native/Libraries/StyleSheet/flattenStyle';\nimport Platform from '../../Utilities/Platform';\nimport * as React from 'react';\n\ntype TVProps = $ReadOnly<{|\n  hasTVPreferredFocus?: ?boolean,\n  nextFocusDown?: ?number,\n  nextFocusForward?: ?number,\n  nextFocusLeft?: ?number,\n  nextFocusRight?: ?number,\n  nextFocusUp?: ?number,\n|}>;\n\ntype Props = $ReadOnly<{|\n  ...React.ElementConfig<TouchableWithoutFeedback>,\n  ...TVProps,\n\n  activeOpacity?: ?number,\n  style?: ?ViewStyleProp,\n\n  hostRef?: ?React.Ref<typeof Animated.View>,\n|}>;\n\ntype State = $ReadOnly<{|\n  anim: Animated.Value,\n  pressability: Pressability,\n|}>;\n\n/**\n * A wrapper for making views respond properly to touches.\n * On press down, the opacity of the wrapped view is decreased, dimming it.\n *\n * Opacity is controlled by wrapping the children in an Animated.View, which is\n * added to the view hierarchy.  Be aware that this can affect layout.\n *\n * Example:\n *\n * ```\n * renderButton: function() {\n *   return (\n *     <TouchableOpacity onPress={this._onPressButton}>\n *       <Image\n *         style={styles.button}\n *         source={require('./myButton.png')}\n *       />\n *     </TouchableOpacity>\n *   );\n * },\n * ```\n * ### Example\n *\n * ```ReactNativeWebPlayer\n * import React, { Component } from 'react'\n * import {\n *   AppRegistry,\n *   StyleSheet,\n *   TouchableOpacity,\n *   Text,\n *   View,\n * } from 'react-native'\n *\n * class App extends Component {\n *   state = { count: 0 }\n *\n *   onPress = () => {\n *     this.setState(state => ({\n *       count: state.count + 1\n *     }));\n *   };\n *\n *  render() {\n *    return (\n *      <View style={styles.container}>\n *        <TouchableOpacity\n *          style={styles.button}\n *          onPress={this.onPress}>\n *          <Text> Touch Here </Text>\n *        </TouchableOpacity>\n *        <View style={[styles.countContainer]}>\n *          <Text style={[styles.countText]}>\n *             { this.state.count !== 0 ? this.state.count: null}\n *           </Text>\n *         </View>\n *       </View>\n *     )\n *   }\n * }\n *\n * const styles = StyleSheet.create({\n *   container: {\n *     flex: 1,\n *     justifyContent: 'center',\n *     paddingHorizontal: 10\n *   },\n *   button: {\n *     alignItems: 'center',\n *     backgroundColor: '#DDDDDD',\n *     padding: 10\n *   },\n *   countContainer: {\n *     alignItems: 'center',\n *     padding: 10\n *   },\n *   countText: {\n *     color: '#FF00FF'\n *   }\n * })\n *\n * AppRegistry.registerComponent('App', () => App)\n * ```\n *\n */\nclass TouchableOpacity extends React.Component<Props, State> {\n  state: State = {\n    anim: new Animated.Value(this._getChildStyleOpacityWithDefault()),\n    pressability: new Pressability(this._createPressabilityConfig()),\n  };\n\n  _createPressabilityConfig(): PressabilityConfig {\n    return {\n      cancelable: !this.props.rejectResponderTermination,\n      disabled: this.props.disabled ?? this.props.accessibilityState?.disabled,\n      hitSlop: this.props.hitSlop,\n      delayLongPress: this.props.delayLongPress,\n      delayPressIn: this.props.delayPressIn,\n      delayPressOut: this.props.delayPressOut,\n      minPressDuration: 0,\n      pressRectOffset: this.props.pressRetentionOffset,\n      onBlur: event => {\n        if (Platform.isTV) {\n          this._opacityInactive(250);\n        }\n        if (this.props.onBlur != null) {\n          this.props.onBlur(event);\n        }\n      },\n      onFocus: event => {\n        if (Platform.isTV) {\n          this._opacityActive(150);\n        }\n        if (this.props.onFocus != null) {\n          this.props.onFocus(event);\n        }\n      },\n      onLongPress: this.props.onLongPress,\n      onPress: this.props.onPress,\n      onPressIn: event => {\n        this._opacityActive(\n          event.dispatchConfig.registrationName === 'onResponderGrant'\n            ? 0\n            : 150,\n        );\n        if (this.props.onPressIn != null) {\n          this.props.onPressIn(event);\n        }\n      },\n      onPressOut: event => {\n        this._opacityInactive(250);\n        if (this.props.onPressOut != null) {\n          this.props.onPressOut(event);\n        }\n      },\n    };\n  }\n\n  /**\n   * Animate the touchable to a new opacity.\n   */\n  _setOpacityTo(toValue: number, duration: number): void {\n    Animated.timing(this.state.anim, {\n      toValue,\n      duration,\n      easing: Easing.inOut(Easing.quad),\n      useNativeDriver: true,\n    }).start();\n  }\n\n  _opacityActive(duration: number): void {\n    this._setOpacityTo(this.props.activeOpacity ?? 0.2, duration);\n  }\n\n  _opacityInactive(duration: number): void {\n    this._setOpacityTo(this._getChildStyleOpacityWithDefault(), duration);\n  }\n\n  _getChildStyleOpacityWithDefault(): number {\n    const opacity = flattenStyle(this.props.style)?.opacity;\n    return typeof opacity === 'number' ? opacity : 1;\n  }\n\n  render(): React.Node {\n    // BACKWARD-COMPATIBILITY: Focus and blur events were never supported before\n    // adopting `Pressability`, so preserve that behavior.\n    const {onBlur, onFocus, ...eventHandlersWithoutBlurAndFocus} =\n      this.state.pressability.getEventHandlers();\n\n    const accessibilityState =\n      this.props.disabled != null\n        ? {\n            ...this.props.accessibilityState,\n            disabled: this.props.disabled,\n          }\n        : this.props.accessibilityState;\n\n    return (\n      <Animated.View\n        accessible={this.props.accessible !== false}\n        accessibilityLabel={this.props.accessibilityLabel}\n        accessibilityHint={this.props.accessibilityHint}\n        accessibilityLanguage={this.props.accessibilityLanguage}\n        accessibilityRole={this.props.accessibilityRole}\n        accessibilityState={accessibilityState}\n        accessibilityActions={this.props.accessibilityActions}\n        onAccessibilityAction={this.props.onAccessibilityAction}\n        accessibilityValue={this.props.accessibilityValue}\n        importantForAccessibility={this.props.importantForAccessibility}\n        accessibilityLiveRegion={this.props.accessibilityLiveRegion}\n        accessibilityViewIsModal={this.props.accessibilityViewIsModal}\n        accessibilityElementsHidden={this.props.accessibilityElementsHidden}\n        style={[this.props.style, {opacity: this.state.anim}]}\n        nativeID={this.props.nativeID}\n        testID={this.props.testID}\n        onLayout={this.props.onLayout}\n        nextFocusDown={this.props.nextFocusDown}\n        nextFocusForward={this.props.nextFocusForward}\n        nextFocusLeft={this.props.nextFocusLeft}\n        nextFocusRight={this.props.nextFocusRight}\n        nextFocusUp={this.props.nextFocusUp}\n        hasTVPreferredFocus={this.props.hasTVPreferredFocus}\n        hitSlop={this.props.hitSlop}\n        focusable={\n          this.props.focusable !== false && this.props.onPress !== undefined\n        }\n        ref={this.props.hostRef}\n        {...eventHandlersWithoutBlurAndFocus}>\n        {this.props.children}\n        {__DEV__ ? (\n          <PressabilityDebugView color=\"cyan\" hitSlop={this.props.hitSlop} />\n        ) : null}\n      </Animated.View>\n    );\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    this.state.pressability.configure(this._createPressabilityConfig());\n    if (\n      this.props.disabled !== prevProps.disabled ||\n      (flattenStyle(prevProps.style)?.opacity !==\n        flattenStyle(this.props.style)?.opacity) !==\n        undefined\n    ) {\n      this._opacityInactive(250);\n    }\n  }\n\n  componentWillUnmount(): void {\n    this.state.pressability.reset();\n  }\n}\n\nconst Touchable = (React.forwardRef((props, ref) => (\n  <TouchableOpacity {...props} hostRef={ref} />\n)): React.AbstractComponent<Props, React.ElementRef<typeof Animated.View>>);\n\nTouchable.displayName = 'TouchableOpacity';\n\nmodule.exports = Touchable;\n"],"mappings":"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"}